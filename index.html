<!DOCTYPE html>
<html>
<head>
    <title>åŸºé‡‘æ¯”ä¾‹è®¡ç®—å™¨ï¼ˆæ”¯æŒä¿å­˜ï¼‰</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 800px; margin: auto; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        .fund-item { display: flex; gap: 10px; margin-bottom: 10px; }
        .fund-item input { padding: 8px; flex: 1; }
        button { background: #4CAF50; color: white; padding: 10px; border: none; cursor: pointer; }
        #addFund { background: #2196F3; margin-bottom: 15px; }
        #clearBtn { background: #f44336; margin-left: 10px; }
        table { width: 100%; margin-top: 20px; border-collapse: collapse; }
        td, th { border: 1px solid #ddd; padding: 8px; text-align: left; }
    </style>
</head>
<body>
    <div class="container">
        <h3>åŸºé‡‘æ¯”ä¾‹è®¡ç®—å™¨ï¼ˆæ”¯æŒä¿å­˜ï¼‰</h3>
        
        <!-- åŠ¨æ€æ·»åŠ åŸºé‡‘åŒºåŸŸ -->
        <div id="fundsContainer">
            <!-- åˆå§‹è¡Œç”±JavaScriptè‡ªåŠ¨ç”Ÿæˆ -->
        </div>

        <button id="addFund" onclick="addFund()">ï¼‹ æ·»åŠ åŸºé‡‘</button>
        <button id="clearBtn" onclick="clearData()">ğŸ—‘ï¸ æ¸…é™¤æ•°æ®</button>

        <div class="input-group">
            <label>ä½ çš„æ€»é‡‘é¢ï¼ˆå…ƒï¼‰:</label>
            <input type="number" id="userTotal" step="0.01">
        </div>

        <button onclick="calculate()">ç«‹å³è®¡ç®—</button>

        <div id="result"></div>
    </div>

    <script>
        // å­˜å‚¨æ ‡è¯†
        const STORAGE_KEY = "fundCalculatorData";

        // åˆå§‹åŒ–åŠ è½½æ•°æ®
        function loadData() {
            const savedData = localStorage.getItem(STORAGE_KEY);
            if (savedData) {
                const { funds, userTotal } = JSON.parse(savedData);
                
                // åŠ è½½åŸºé‡‘æ•°æ®
                fundsContainer.innerHTML = '';
                funds.forEach(fund => addFund(fund.name, fund.amount));
                
                // åŠ è½½æ€»é‡‘é¢
                document.getElementById("userTotal").value = userTotal || "1735.87";
            } else {
                addFund(); // é»˜è®¤æ·»åŠ ä¸€è¡Œ
            }
        }

        // è‡ªåŠ¨ä¿å­˜æ•°æ®
        function saveData() {
            const funds = [];
            document.querySelectorAll(".fund-item").forEach(item => {
                const name = item.querySelector(".fund-name").value.trim();
                const amount = parseFloat(item.querySelector(".fund-amount").value);
                if (name && !isNaN(amount)) funds.push({ name, amount });
            });

            const data = {
                funds,
                userTotal: document.getElementById("userTotal").value
            };

            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        }

        // åŠ¨æ€æ·»åŠ åŸºé‡‘è¡Œï¼ˆæ”¯æŒåˆå§‹åŒ–å€¼ï¼‰
        function addFund(name = '', amount = '') {
            const div = document.createElement("div");
            div.className = "fund-item";
            div.innerHTML = `
                <input type="text" placeholder="åŸºé‡‘åç§°" class="fund-name" value="${name}"
                       oninput="saveData()">
                <input type="number" placeholder="é‡‘é¢ï¼ˆå…ƒï¼‰" class="fund-amount" step="0.01" 
                       value="${amount}" oninput="saveData()">
            `;
            fundsContainer.appendChild(div);
        }

        // æ¸…é™¤æ‰€æœ‰æ•°æ®
        function clearData() {
            localStorage.removeItem(STORAGE_KEY);
            fundsContainer.innerHTML = '';
            document.getElementById("userTotal").value = "1735.87";
            addFund();
        }

        // è®¡ç®—é€»è¾‘ï¼ˆä¸ä¹‹å‰ç›¸åŒï¼‰
        function calculate() { /* ä¿æŒåŸæœ‰è®¡ç®—é€»è¾‘ä¸å˜ */ }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¯»å–æ•°æ®
        window.onload = loadData;
    </script>
</body>
</html>
